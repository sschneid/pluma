pluma installation


1. View and edit pluma.cfg
------------------------------

pluma reads in most of it's configuration directives through a flat text configruation file (pluma.cfg).  This file must be in the located in the base of pluma's application directory.

* Format for a single-value option is:

    $variable: "value"

* Format for a multi-value option is:

    @variable: "option1 option2 option3"

* LDAP server information

    - $ldap.Server is the FQDN of the LDAP server
    - $ldap.SSL turns SSL on (1) or off (0)

    - Example:

        $ldap.Server "ldap.company.com"
        $ldap.SSL: "1"

* LDAP OU set-up

    - The base OUs for users, hosts, and groups must all be set-up within the configuration file.

    - Example:

        $ldap.Base: "dc=company,dc=com"
        $ldap.Base.User: "ou=People,$ldap.Base"
        $ldap.Base.Host: "ou=Hosts,$ldap.Base"
        $ldap.Base.Group: "ou=Groups,$ldap.Base"

* LDAP bind account

    - An LDAP account with sufficient read/write access to the user, host, and group OUs must be set-up and specified.

    - Example:

        $auth.BindDN: "uid=pluma,$ldap.Base.User"
        $auth.Password: "plum4p455w0rd!"

* Password encryption

    - Valid userPassword encryptions options are "crypt" (the default), "sha", and "ssha".  Digest::SHA1 and MIME::Base64 are required for SHA/SSHA.

    - Example:

        $pw.Encrypt: "crypt"

* Audit logging

    - All modification actions can be written to an audit log.  Make sure that the webserver user has access to write to this file.

    - Example:

        $audit.log: "/var/log/httpd/pluma-audit_log"

* Configurable user options

    - These options allow for setting different configurable options for users (such as a choice of login shells).

    - Example:

        @shells: "/bin/bash /bin/ksh"

* New user defaults

    - GID ($default.GID), mail format ($mail.Format), homeDirectory prefix ($prefix.Home), and OU inclusion (@user.objectClass) can be set.  Defaults are used if values are not set.
    - Valid variables in $mail.Format are '%givenName', '%sn', and '%uid'.

    - Example:

        $default.GID: "100"
        $prefix.Home: "/home"
        $mail.Format: "%uid@company.com"
        @user.ObjectClass: "companyDotComUser"

* Internal LDAP limits

    - Limits can be set to help alleviate server congestion.

    - Example:

        $fetch.Limit.Size: 1000
        $fetch.Limit.Time: 30



2. Apache set-up
----------------

Web set-up should be relatively simple.  Full Apache set-up is outside of the scope of this installation document.

* AuthLDAP is required for Apache set-up.

    - Example:

        <Directory /var/www/pluma>
            Options ExecCGI FollowSymLinks

            AllowOverride None

            AddHandler cgi-script .cgi
            DirectoryIndex index.cgi

            AuthType Basic
            AuthName "pluma"

            AuthLDAPEnabled on
            AuthLDAPAuthoritative on
            AuthLDAPURL ldaps://ldap.company.com/dc=company,dc=com?uid

            # Only members of the sysadm group get access
            Require group cn=sysadm,ou=Groups,dc=company,dc=com

            Order allow,deny
            Allow from all
        </Directory>

